## ----setup--------------------------------------------------------------------
knitr::opts_chunk$set(comment = '.')

## ---- warning = FALSE, message = FALSE----------------------------------------
library(purrr)
library(dplyr)
library(yspec)

## -----------------------------------------------------------------------------
data <- ys_help$data()
spec <- ys_help$spec()

## -----------------------------------------------------------------------------
as_tibble(data)

## -----------------------------------------------------------------------------
spec

## -----------------------------------------------------------------------------
data <- ys_add_labels(data,spec)

## -----------------------------------------------------------------------------
as_tibble(data)

## -----------------------------------------------------------------------------
labs <- map(data, attr, "label")

labs[1:5]

## ----eval=FALSE---------------------------------------------------------------
#  str(data)

## -----------------------------------------------------------------------------
ys_get_label(spec)[1:3]

## -----------------------------------------------------------------------------
ys_get_label(spec$NUM)

## -----------------------------------------------------------------------------
spec$NUM$label

## -----------------------------------------------------------------------------
spec$C$label

## -----------------------------------------------------------------------------
label_fun <- function(x,...) x[["col"]]

## -----------------------------------------------------------------------------
data <- ys_add_labels(data, spec, fun = label_fun)

## -----------------------------------------------------------------------------
map(data, attr, "label")[1:5]

## -----------------------------------------------------------------------------
map(spec, "label")[1:5]

